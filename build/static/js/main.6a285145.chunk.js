(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{37:function(e,t,n){e.exports=n(88)},47:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(9),s=n.n(o),l=n(10),u=n(2),i=n(8),m=n(34),f=n(6),p=Object(u.b)("contacnts/add"),b=Object(u.b)("contacts/romove"),h=Object(u.b)("contacts/filter"),d=Object(u.b)("contacts/toggle"),v=Object(u.b)("contacts/loader"),O=Object(u.b)("contacts/error"),g=Object(u.b)("contacts/getContacts"),j=Object(u.c)([],(a={},Object(i.a)(a,p,(function(e,t){return[].concat(Object(m.a)(e),[t.payload])})),Object(i.a)(a,b,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),Object(i.a)(a,g,(function(e,t){return t.payload})),a)),E=Object(u.c)("",Object(i.a)({},h,(function(e,t){return t.payload}))),y=Object(u.c)(!1,Object(i.a)({},d,(function(e,t){return t.payload}))),C=Object(u.c)(!1,Object(i.a)({},v,(function(e,t){return t.payload}))),N=Object(u.c)(!1,Object(i.a)({},O,(function(e,t){return t.payload}))),w=Object(f.c)({items:j,filter:E,hasNameInContacts:y,loader:C,error:N}),k=Object(u.a)({reducer:{contacts:w}}),x=(n(47),n(14)),I=n(15),S=n(18),F=n(17),D=n(89),L=n(16),A=n.n(L),T=n(11),V=n.n(T),J=n(19),B=n(20),M=n.n(B),P="http://localhost:9999/contacts",X=n(7),Y=function(e){return e.contacts},q=function(e){return Y(e).items},z=function(e){return Y(e).filter},G=Object(X.a)([q,z],(function(e,t){return t?e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):e})),H=function(e){return Y(e).error},K=function(e){return Y(e).hasNameInContacts},Q=function(e){return Y(e).loader},R=(n(85),function(e){Object(S.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(x.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:"",number:""},e.changeValue=function(t){var n=t.target,a=n.value,r=n.name;e.setState(Object(i.a)({},r,a))},e.hasContact=function(t){return e.props.contacts.some((function(e){return e.name===t}))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,r=n.number,c={id:Date.now(),name:a,number:r};e.hasContact(c.name)?e.props.toggle(!0):(e.props.addContact(c),e.props.toggle(!1),e.setState({name:"",number:""}))},e}return Object(I.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number;return c.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},c.a.createElement("input",{className:"form-item",type:"text",value:t,name:"name",placeholder:"Your name",onChange:this.changeValue})," ",c.a.createElement("input",{className:"form-item",type:"phone",placeholder:"333-333-333",value:n,name:"number",onChange:this.changeValue})," ",c.a.createElement("button",{className:"form-btn"}," Add contact ")," ")}}]),n}(r.Component)),U={addContact:function(e){return function(){var t=Object(J.a)(V.a.mark((function t(n){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v(!0)),t.next=4,M.a.post(P,e);case 4:a=t.sent,console.log(a),n(p(a.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),O(t.t0);case 12:return t.prev=12,n(v(!1)),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},toggle:d},W=Object(l.b)((function(e){return{contacts:q(e),hasNameInContacts:K(e)}}),U)(R),Z=n(90),$=(n(86),{deleteContact:function(e){return function(){var t=Object(J.a)(V.a.mark((function t(n){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v(!0)),t.next=4,M.a.delete("".concat(P,"/").concat(e));case 4:t.sent,n(b(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),O(t.t0);case 11:return t.prev=11,n(v(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},getContacts:function(){return function(){var e=Object(J.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(v(!0)),e.next=4,M.a.get(P);case 4:n=e.sent,console.log(n.data),t(g(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),O(e.t0);case 12:return e.prev=12,t(v(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()}}),_=Object(l.b)((function(e){return{contacts:G(e),loader:Q(e)}}),$)((function(e){var t=e.contacts,n=e.deleteContact,a=e.getContacts,o=e.loader;return Object(r.useEffect)((function(){console.log("123123"),a()}),[]),c.a.createElement(c.a.Fragment,null,o&&c.a.createElement(A.a,{className:"loader",type:"ThreeDots",color:"#ffc0cb",height:100,width:100,timeout:3e3}),!o&&c.a.createElement(Z.a,{component:"ul",className:"list"},t.map((function(e){var t=e.name,a=e.number,r=e.id;return c.a.createElement(D.a,{key:r,classNames:"change",timeout:250},c.a.createElement("li",{className:"item"},c.a.createElement("p",{className:"list-name"}," ",t," "),c.a.createElement("p",{className:"list-phone"}," ",a," "),c.a.createElement("button",{onClick:function(){return n(r)},className:"list-btn"},"X")))}))))})),ee=(n(87),function(e){Object(S.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(x.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoade:!1},e.changeFilter=function(t){e.props.filterItems(t.target.value)},e}return Object(I.a)(n,[{key:"render",value:function(){var e=this.state.isLoade,t=this.props,n=t.contacts,a=t.hasNameInContacts,r=t.toggle,o=t.search,s=t.error,l=t.loader;return c.a.createElement("div",null,l&&c.a.createElement(A.a,{className:"loader",type:"ThreeDots",color:"#ffc0cb",height:100,width:100,timeout:3e3}),!l&&!s&&c.a.createElement(c.a.Fragment,null,c.a.createElement(D.a,{classNames:"phonebook",timeout:1500,in:e,mountOnEnter:!0},c.a.createElement("div",null,c.a.createElement("h1",null,"Phonebook"))),c.a.createElement(D.a,{in:a,classNames:"alert",unmountOnExit:!0,timeout:2500,onEntered:function(){return r(!1)}},c.a.createElement("div",{className:"alert-wrapper"},c.a.createElement("h1",{className:"alert-title"},"This name is have already in contacts list"))),c.a.createElement(W,null),c.a.createElement(D.a,{in:n.length>1,unmountOnExit:!0,classNames:"search",timeout:250},c.a.createElement("label",{className:"form-label"},c.a.createElement("p",null,"Find contacts by name:"),c.a.createElement("input",{type:"text",name:"search",value:o,onChange:this.changeFilter})))),c.a.createElement(_,null))}}]),n}(r.Component)),te={addContact:p,toggle:d,filterItems:h},ne=Object(l.b)((function(e){return{contacts:q(e),hasNameInContacts:K(e),search:z(e),loader:Q(e),error:H(e)}}),te)(ee);s.a.render(c.a.createElement(l.a,{store:k},c.a.createElement(c.a.StrictMode,null,c.a.createElement(ne,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.6a285145.chunk.js.map